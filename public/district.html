<!doctype html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://use.typekit.net/kdc4trt.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
          integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/schools.css"/>
    <link rel="stylesheet" href="css/search-inside.css">
    <link rel="stylesheet" href="https://use.typekit.net/ipw6blv.css">
    <title>Abbeville County School Dist</title>
</head>

<body>
<div class="search-block">
    <div class="app-search">
        <a href="../../.."><img src="../../asset/home.png"></a>
        <div class="search-row">
            <input id="fill-box" type="text" placeholder="Search school or district ...">
            <i class="fa fa-search"></i>
        </div>
    </div> <!-- closes app search -->
    <div id="suggestions-list" class="list-items"></div>
</div> <!-- closes search block -->
<div class="container">
    <div class="title-text">
        <h1>Abbeville County School Dist</h1>
        <h2><span id="student-count"></span> students</h2>
        <h4>400 Greenville Street, Abbeville</h4>
        <h4>864-366-5427, <a href="https://acsdsc.org" target="_blank">website</a></h4>
    </div>
    <div class="row">
        <div class="col-12 col-md-6 graphic">
            <div id='map' class="graphic-style"></div>
        </div>
        <div class="col-12 col-md-6 graphic">
            <div class="school-col-inner">
                <h4>Schools in this district</h4>
                <div class="inner-text">
                    <ul>
                        <li>Elementary Schools</li>
                        <ul>


                            <li><a href="../../school/160018/">Cherokee Trail Elementary</a></li>


                            <li><a href="../../school/160019/">Diamond Hill Elementary School</a></li>


                            <li><a href="../../school/160007/">John C. Calhoun Elementary School</a></li>


                            <li><a href="../../school/160017/">Westwood Elementary School</a></li>


                        </ul>
                        <li>Middle Schools</li>
                        <ul>


                            <li><a href="../../school/160018/">Cherokee Trail Middle</a></li>


                            <li><a href="../../school/160019/">Diamond Hill Middle School</a></li>


                            <li><a href="../../school/160016/">Wright Middle</a></li>


                        </ul>
                        <li>High Schools</li>
                        <ul>


                            <li><a href="../../school/160001/">Abbeville High School</a></li>


                            <li><a href="../../school/160003/">Dixie High School</a></li>


                        </ul>
                    </ul>
                </div>
            </div>
        </div>
        <div class="graphic">
            <div class="graphic-style">
                <h5>Academic Performance</h5>
                <div class="row">
                    <div class="col-sm-4">
                        <canvas id="chart-academic"></canvas>
                    </div>
                    <div class="col-sm-4">
                        <canvas id="chart-academic2"></canvas>
                    </div>
                    <div class="col-sm-4">
                        <canvas id="chart-academic3"></canvas>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <canvas id="chart-academic4"></canvas>
                    </div>
                    <div class="col-sm-6">
                        <canvas id="chart-academic5"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-12 graphic">
            <div class="graphic-style">
                <h5>Demographics</h5>
                <div class="row">
                    <div class="col-sm-6">
                        <canvas id="chart-poverty"></canvas>
                    </div>
                    <div class="col-sm-6">
                        <canvas id="chart-disabilities"></canvas>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <canvas id="chart-race"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 graphic">
            <div class="graphic-style">
                <div id="chart-harrassment"></div>
            </div>
        </div>
        <div class="col-md-4 graphic">
            <div class="graphic-style">
                <div id="chart-teacherpay"></div>
            </div>
        </div>
        <div class="col-md-4 graphic">
            <div class="graphic-style">
                <div id="chart-childsafe"></div>
            </div>
        </div>
        <div class="col-12 col-md-4 graphic">
            <div class="graphic-style">
                <div id="chart-teachersafe"></div>
            </div>
        </div>
        <div class="col-12 col-md-4 graphic">
            <div class="graphic-style">
                <div id="chart-violent"></div>
            </div>
        </div>
    </div>  <!-- ends row -->
</div> <!-- closes container -->
<footer>
    <p>© 2022, Post and Courier</p>

</footer>

<!-- d3 -->
<script src="https://d3js.org/d3.v7.min.js"></script>

<!-- chart.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.js"
        integrity="sha512-5m2r+g00HDHnhXQDbRLAfZBwPpPCaK+wPLV6lm8VQ+09ilGdHfXV7IVyKPkLOTfi4vTTUVJnz7ELs7cA87/GMA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>

<!-- fuse -->
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.1"></script>

<!-- leaflet -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js"></script>

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script src="js/search.js"></script>

<!-- custom javascript -->
<script>

    // // // // // // // // // // // //
    // // // // // // MISC. FUNCTIONS AND SCRIPTS
    // // // // // // // // // // // //

    // function to fromat numbers

    function formatComma(float) {
        num = Math.round(float)
        return num.toLocaleString("en-US")
    }

    // inject total enrolled students
    d3.select("#student-count")
        .text(formatComma(2926))


    // // // // // //
    // // // MAP SCRIPT
    // // // // // //

    function districtMap() {
        let latList = [];
        let lonList = [];


        latList.push(34.18729295)
        lonList.push(-82.37512603)


        latList.push(34.3641167)
        lonList.push(-82.35564697)


        latList.push(34.3645549)
        lonList.push(-82.3582024)


        latList.push(34.2559676)
        lonList.push(-82.56481013)


        latList.push(34.2559676)
        lonList.push(-82.56481013)


        latList.push(34.328243)
        lonList.push(-82.387977)


        latList.push(34.10373135)
        lonList.push(-82.59765549)


        latList.push(34.1872022)
        lonList.push(-82.354427)


        latList.push(34.1540754)
        lonList.push(-82.3986732)


        latList.push(34.18642145)
        lonList.push(-82.40282005)


        var map = L.map('map', {
            scrollWheelZoom: false,
        })
        if (latList[0]) {
            map.setView([latList[0], lonList[0]], 9);
        } else {
            map.setView([33.4, -81.1], 7);
        }

        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYWFkaXR0YW1iZSIsImEiOiJja3R2eDFjZjMyZXJxMnhwcTR0Y3F5eGk2In0.9AAyIXkTkCMcZ8NNlDPB9g', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
                'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox/light-v9',
            tileSize: 512,
            zoomOffset: -1
        }).addTo(map);


        var marker = L.marker([34.18729295, -82.37512603]).addTo(map)
            .bindPopup('<b><a href="../../school/160001">Abbeville High School</a></b>');


        var marker = L.marker([34.3641167, -82.35564697]).addTo(map)
            .bindPopup('<b><a href="../../school/160018">Cherokee Trail Elementary</a></b>');


        var marker = L.marker([34.3645549, -82.3582024]).addTo(map)
            .bindPopup('<b><a href="../../school/160018">Cherokee Trail Middle</a></b>');


        var marker = L.marker([34.2559676, -82.56481013]).addTo(map)
            .bindPopup('<b><a href="../../school/160019">Diamond Hill Elementary School</a></b>');


        var marker = L.marker([34.2559676, -82.56481013]).addTo(map)
            .bindPopup('<b><a href="../../school/160019">Diamond Hill Middle School</a></b>');


        var marker = L.marker([34.328243, -82.387977]).addTo(map)
            .bindPopup('<b><a href="../../school/160003">Dixie High School</a></b>');


        var marker = L.marker([34.10373135, -82.59765549]).addTo(map)
            .bindPopup('<b><a href="../../school/160007">John C. Calhoun Elementary School</a></b>');


        var marker = L.marker([34.1872022, -82.354427]).addTo(map)
            .bindPopup('<b><a href="../../school/160020">Long Cane Primary</a></b>');


        var marker = L.marker([34.1540754, -82.3986732]).addTo(map)
            .bindPopup('<b><a href="../../school/160017">Westwood Elementary School</a></b>');


        var marker = L.marker([34.18642145, -82.40282005]).addTo(map)
            .bindPopup('<b><a href="../../school/160016">Wright Middle</a></b>');


        //console.log(latList[1])
    }

    // // // // // //
    // // // FUNCTION TO DRAW STAT CHART
    // // // // // //

    function drawStat(graphic, data) {
        var chartWidth = $(graphic).width()

        const div = d3.select(graphic)
            .append("div")
            .style("width", `100%`)
            .style("height", `100%`)
            .style("text-align", "center")
            .style("margin", "auto")
            .selectAll(null)
            .data(data)
            .enter()


        const num = div

            .append("h1")
            .text(function (d) {
                return `${d.value}`
            })
            //.style("font-size","84px")
            .style("color", "#82C566")
            .style("font-family", "miller-headline")
            .style("font-weight", "700")

        const text = div
            .append("h5")
            .text(function (d) {
                return d.label
            })

    }

    // // // // // // // // // // // //
    // // // // // // DECLARE GLOBAL CONSTS WITH DATA
    // // // // // // // // // // // //

    const dataTeacherpayStat = [
        {label: 'Average teacher pay', value: `${'' === 'NA' ? 'N/A' : '$' + formatComma(51129)}`}
    ]

    const dataChildsafeStat = [
        {
            label: 'Parents who agree "my child feels safe at school"',
            value: `${'93.1' === 'NA' ? 'N/A' : formatComma(93.1) + '%'}`
        }
    ]

    const dataTeachersafeStat = [
        {
            label: 'Teachers who agree "I feel safe at my school"',
            value: `${'97.3' === 'NA' ? 'N/A' : formatComma(97.3) + '%'}`
        }
    ]

    const dataViolentassaultsStat = [
        {label: 'Number of violent assaults', value: `${'30' === 'NA' ? 'N/A' : formatComma(30)}`}
    ]

    const dataHarrassmentStat = [
        {label: 'Number of incidents of bullying or harrassment', value: `${'6' === 'NA' ? 'N/A' : formatComma(6)}`}
    ]

    // // // // // // // // // // // //
    // // // // // // CALL FUNCTIONS
    // // // // // // // // // // // //

    Chart.register(ChartDataLabels);

    searchApp("district")
    districtMap()

    drawStat("#chart-teacherpay", dataTeacherpayStat)
    drawStat("#chart-childsafe", dataChildsafeStat)
    drawStat("#chart-teachersafe", dataTeachersafeStat)
    drawStat("#chart-violent", dataViolentassaultsStat)
    drawStat("#chart-harrassment", dataHarrassmentStat)

    const name = `Abbeville County School Dist`

    new Chart(
        document.getElementById('chart-academic'), {
            type: 'bar',
            data: {
                labels: [
                    'Students with Positive Reading Score',
                ],
                datasets: [{
                    label: name,
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [`51.8` === 'NA' ? 0 : `51.8`],
                    barPercentage: 1.0
                },
                    {
                        label: 'State Average',
                        backgroundColor: 'rgb(30,144,255)',
                        borderColor: 'rgb(30,144,255)',
                        data: [`45.22699696663287` === 'NA' ? 0 : `45.22699696663287`],
                        barPercentage: 1.0
                    }]
            },
            options: {
                maintainAspectRatio: false,
                scales: {
                    y: {
                        max: 100,
                        ticks: {
                            callback: function (value, index, ticks) {
                                return `${value}%`
                            }
                        },
                        title: {
                            display: false,
                            text: 'Percentage of Students with Satisfactory Scores'
                        }
                    }
                },
                plugins: {
                    datalabels: {
                        formatter: (value, ctx) => {
                            if (value !== 0) {
                                return Math.round(value) + '%';
                            } else {
                                return 'N/A'
                            }
                        },
                        anchor: 'end',
                        align: (value, ctx) => {
                            if (value.dataset.data[0] > 30) {
                                return 'bottom'
                            } else {
                                return 'top'
                            }
                        },
                        font: {
                            weight: 'bold'
                        }
                    },
                    tooltips: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + '%';
                            },
                        }
                    }
                }
            }
        }
    )

    new Chart(
        document.getElementById('chart-academic2'), {
            type: 'bar',
            data: {
                labels: [
                    'Students with Positive Math Score',
                ],
                datasets: [{
                    label: name,
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [`48.1` === 'NA' ? 0 : `48.1`],
                    barPercentage: 1.0
                },
                    {
                        label: 'State Average',
                        backgroundColor: 'rgb(30,144,255)',
                        borderColor: 'rgb(30,144,255)',
                        data: [`39.478926038500525` === 'NA' ? 0 : `39.478926038500525`],
                        barPercentage: 1.0
                    }]
            },
            options: {
                legend: {
                    display: false,
                },
                maintainAspectRatio: false,
                scales: {
                    y: {
                        max: 100,
                        ticks: {
                            callback: function (value, index, ticks) {
                                return `${value}%`
                            }
                        },
                        title: {
                            display: false,
                            text: 'Percentage of Students with Satisfactory Scores'
                        }
                    }
                },
                plugins: {
                    datalabels: {
                        formatter: (value, ctx) => {
                            if (value !== 0) {
                                return Math.round(value) + '%';
                            } else {
                                return 'N/A'
                            }
                        },
                        anchor: 'end',
                        align: (value, ctx) => {
                            if (value.dataset.data[0] > 30) {
                                return 'bottom'
                            } else {
                                return 'top'
                            }
                        },
                        font: {
                            weight: 'bold'
                        }
                    },
                    tooltips: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + '%';
                            },
                        }
                    },
                    legend: {
                        display: false
                    }
                }
            }
        }
    )

    new Chart(
        document.getElementById('chart-academic3'), {
            type: 'bar',
            data: {
                labels: [
                    'Students with Positive Science Score',
                ],
                datasets: [{
                    label: name,
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [`55.1` === 'NA' ? 0 : `55.1`],
                    barPercentage: 1.0
                },
                    {
                        label: 'State Average',
                        backgroundColor: 'rgb(30,144,255)',
                        borderColor: 'rgb(30,144,255)',
                        data: [`33.923712183156155` === 'NA' ? 0 : `33.923712183156155`],
                        barPercentage: 1.0
                    }]
            },
            options: {
                legend: {
                    display: false,
                },
                maintainAspectRatio: false,
                scales: {
                    y: {
                        max: 100,
                        ticks: {
                            callback: function (value, index, ticks) {
                                return `${value}%`
                            }
                        },
                        title: {
                            display: false,
                            text: 'Percentage of Students with Satisfactory Scores'
                        }
                    }
                },
                plugins: {
                    datalabels: {
                        formatter: (value, ctx) => {
                            if (value !== 0) {
                                return Math.round(value) + '%';
                            } else {
                                return 'N/A'
                            }
                        },
                        anchor: 'end',
                        align: (value, ctx) => {
                            if (value.dataset.data[0] > 30) {
                                return 'bottom'
                            } else {
                                return 'top'
                            }
                        },
                        font: {
                            weight: 'bold'
                        }
                    },
                    tooltips: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + '%';
                            },
                        }
                    },
                    legend: {
                        display: false
                    }
                }
            }
        }
    )


    new Chart(
        document.getElementById('chart-academic4'), {
            type: 'bar',
            data: {
                labels: [
                    'On-time graduation rate'
                ],
                datasets: [{
                    label: name,
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [`85.4` === 'NA' ? 0 : `85.4`],
                    barPercentage: 1.0,
                    categoryPercentage: 0.6,
                },
                    {
                        label: 'State Average',
                        backgroundColor: 'rgb(30,144,255)',
                        borderColor: 'rgb(30,144,255)',
                        data: [`83.45819672131152` === 'NA' ? 0 : `83.45819672131152`],
                        barPercentage: 1.0,
                        categoryPercentage: 0.6,
                    }]
            },
            options: {
                legend: {
                    display: false,
                },
                maintainAspectRatio: false,
                scales: {
                    y: {
                        max: 100,
                        ticks: {
                            callback: function (value, index, ticks) {
                                return `${value}%`
                            }
                        },
                    },
                },
                plugins: {
                    datalabels: {
                        formatter: (value, ctx) => {
                            if (value !== 0) {
                                return Math.round(value) + '%';
                            } else {
                                return 'N/A'
                            }
                        },
                        anchor: 'end',
                        align: (value, ctx) => {
                            if (value.dataset.data[0] > 30) {
                                return 'bottom'
                            } else {
                                return 'top'
                            }
                        },
                        font: {
                            weight: 'bold'
                        }
                    },
                    tooltips: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + '%';
                            },
                        }
                    },
                    legend: {
                        display: false
                    }
                }
            }
        }
    )

    new Chart(
        document.getElementById('chart-academic5'), {
            type: 'bar',
            data: {
                labels: [
                    'Average ACT Score'
                ],
                datasets: [{
                    label: name,
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [`18.9` === 'NA' ? 0 : `18.9`],
                    barPercentage: 1.0,
                    categoryPercentage: 0.6,
                },
                    {
                        label: 'State Average',
                        backgroundColor: 'rgb(30,144,255)',
                        borderColor: 'rgb(30,144,255)',
                        data: [`17.933920704845814` === 'NA' ? 0 : `17.933920704845814`],
                        barPercentage: 1.0,
                        categoryPercentage: 0.6,
                    }]
            },
            options: {
                maintainAspectRatio: false,
                scales: {
                    y: {
                        max: 32,
                        ticks: {
                            stepSize: 16,
                            callback: function (value, index, ticks) {
                                if (value === 0 || value === 16 || value === 32) {
                                    return `${value}`
                                }
                            }
                        },
                        title: {
                            display: false,
                            text: 'Percentage of Students with Satisfactory Scores'
                        }
                    },
                },
                plugins: {
                    datalabels: {
                        formatter: (value, ctx) => {
                            if (value !== 0) {
                                return Math.round(value);
                            } else {
                                return 'N/A'
                            }
                        },
                        anchor: 'end',
                        align: (value, ctx) => {
                            if (value.dataset.data[0] > 25) {
                                return 'bottom'
                            } else {
                                return 'top'
                            }
                        },
                        font: {
                            weight: 'bold'
                        }
                    },
                    legend: {
                        display: false
                    }
                }
            }
        }
    )

    new Chart(
        document.getElementById('chart-race'), {
            type: 'bar',
            data: {
                labels: [
                    'White',
                    'Black',
                    'Other'
                ],
                datasets: [{
                    label: name,
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [
                        `62` === 'NA' ? 0 : `62`,
                        `33.1` === 'NA' ? 0 : `33.1`,
                        `2.6` === 'NA' ? 0 : `2.6`
                    ],
                    barPercentage: 1.0,
                    categoryPercentage: 0.6,
                },
                    {
                        label: 'State Average',
                        backgroundColor: 'rgb(30,144,255)',
                        borderColor: 'rgb(30,144,255)',
                        data: [
                            `45.84081016679899` === 'NA' ? 0 : `45.84081016679899`,
                            `37.026899753415385` === 'NA' ? 0 : `37.026899753415385`,
                            `17.119062748212873` === 'NA' ? 0 : `17.119062748212873`
                        ],
                        barPercentage: 1.0,
                        categoryPercentage: 0.6,
                    },
                ]
            },
            options: {
                maintainAspectRatio: false,
                scales: {
                    y: {
                        max: 100,
                        ticks: {
                            callback: function (value, index, ticks) {
                                return `${value}%`
                            }
                        },
                    },
                },
                plugins: {
                    datalabels: {
                        formatter: (value, ctx) => {
                            if (value !== 0) {
                                return Math.round(value) + '%';
                            } else {
                                return 'N/A'
                            }
                        },
                        anchor: 'end',
                        align: (value, ctx) => {
                            if (value.dataset.data[value.dataIndex] > 30) {
                                return 'bottom'
                            } else {
                                return 'top'
                            }
                        },
                        font: {
                            weight: 'bold'
                        }
                    },
                    tooltips: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + '%';
                            },
                        }
                    },
                    legend: {
                        display: false
                    }
                }
            }
        }
    )

    new Chart(
        document.getElementById('chart-poverty'), {
            type: 'bar',
            data: {
                labels: [
                    'Percentage of Students in Poverty',
                ],
                datasets: [{
                    label: name,
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [`69.1` === 'NA' ? 0 : `69.1`],
                    barPercentage: 1.0,
                    categoryPercentage: 0.6
                },
                    {
                        label: 'State Average',
                        backgroundColor: 'rgb(30,144,255)',
                        borderColor: 'rgb(30,144,255)',
                        data: [`0.6851351351351346` === 'NA' ? 0 : `0.6851351351351346`],
                        barPercentage: 1.0,
                        categoryPercentage: 0.6
                    }]
            },
            options: {
                legend: {
                    display: false,
                },
                maintainAspectRatio: false,
                scales: {
                    y: {
                        max: 100,
                        ticks: {
                            callback: function (value, index, ticks) {
                                return `${value}%`
                            }
                        },
                        title: {
                            display: false,
                            text: 'Percentage of Students with Satisfactory Scores'
                        }
                    }
                },
                plugins: {
                    datalabels: {
                        formatter: (value, ctx) => {
                            if (value !== 0) {
                                return Math.round(value) + '%';
                            } else {
                                return 'N/A'
                            }
                        },
                        anchor: 'end',
                        align: (value, ctx) => {
                            if (value.dataset.data[0] > 30) {
                                return 'bottom'
                            } else {
                                return 'top'
                            }
                        },
                        font: {
                            weight: 'bold'
                        }
                    },
                    legend: {
                        display: true
                    }
                }
            }
        }
    );

    new Chart(
        document.getElementById('chart-disabilities'), {
            type: 'bar',
            data: {
                labels: [
                    'Percentage of Students with Disabilities',
                ],
                datasets: [{
                    label: name,
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [`14.5` === 'NA' ? 0 : `14.5`],
                    barPercentage: 1.0,
                    categoryPercentage: 0.6
                },
                    {
                        label: 'State Average',
                        backgroundColor: 'rgb(30,144,255)',
                        borderColor: 'rgb(30,144,255)',
                        data: [`18.434936157565645` === 'NA' ? 0 : `18.434936157565645`],
                        barPercentage: 1.0,
                        categoryPercentage: 0.6
                    }]
            },
            options: {
                legend: {
                    display: false,
                },
                maintainAspectRatio: false,
                scales: {
                    y: {
                        max: 100,
                        ticks: {
                            callback: function (value, index, ticks) {
                                return `${value}%`
                            }
                        },
                        title: {
                            display: false,
                            text: 'Percentage of Students with Satisfactory Scores'
                        }
                    }
                },
                plugins: {
                    datalabels: {
                        formatter: (value, ctx) => {
                            if (value !== 0) {
                                return Math.round(value) + '%';
                            } else {
                                return 'N/A'
                            }
                        },
                        anchor: 'end',
                        align: (value, ctx) => {
                            if (value.dataset.data[0] > 30) {
                                return 'bottom'
                            } else {
                                return 'top'
                            }
                        },
                        font: {
                            weight: 'bold'
                        }
                    },
                    tooltips: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + '%';
                            },
                        }
                    },
                    legend: {
                        display: false
                    }
                }
            }
        }
    )

</script>

</body>
</html>